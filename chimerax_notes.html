<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2025-10-02 Thu 06:18 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ChimeraX notes</title>
<meta name="author" content="Daniel Elnatan" />
<meta name="generator" content="Org Mode" />
<style type="text/css">
<!--/*--><![CDATA[/*><!--*/
/*
 * Cascading stylesheet for GNU Emacs notebooks
 * Nicolas P. Rougier - December 202
 * Released under a Creative Commons CC-BY 4.0 license
 */

@charset "utf-8";
@import url('https://fonts.googleapis.com/css?family=Roboto:300,400,500');
@import url('https://fonts.googleapis.com/css?family=Roboto Mono:300,400,500');
@import url('https://fonts.googleapis.com/css?family=Roboto Slab:300,400,500');
@import url('https://fonts.googleapis.com/css?family=Roboto Condensed:300,400,500'); 

body {
    font-family: "Roboto", sans;
    font-size: 16px;
    font-weight: 300;
    line-height: 1.3em;
}

#content {
    margin: 0 auto;
    max-width: 720px;
    margin-top: 5em;
    margin-bottom: 5em;
}

b {
    font-weight: 400;
}

a {
    color: #673AB7;
    text-decoration: none;
/*    font-weight: 400;*/
}

h1, h2, h3 {
    font-family: "Roboto Slab", serif;
    font-weight: 400;
}

h1.title {
    font-weight: 400;
    line-height: 0.75em;
    padding-top: 1.em;
    padding-bottom: 0.5em;
}
h1 span.subtitle {
    font-size: 16px;
    font-weight: 300;
}
h2 {
    clear: both;
    padding-top: 1em;
    padding-bottom: 0em;
}


p {
    text:align: justify;
/*    column-count: 2;*/
    text-align: justify;
    text-justify: inter-word;
    hyphens: auto;
}

div.abstract {
    background: #f9f9ff;
    padding: .75em 1em .75em 1em;
    line-height: 1.25em;
    font-family: "Roboto Condensed", sans-serif;
    border: .5px solid #555599;
    padding-bottom: 0.25em;
}
div.abstract p {
    column-count: 1;
    margin: 0 0 0.5em 0;
}

div.figure {
    padding: 0.50em .00em 0.75em .00em;
}
div.figure p {
    column-count: 1;
    line-height: 1.2em;
    font-family: "Roboto Condensed", sans-serif;
}
div.sidefig::after {
    display: block;
    content: "";
    clear: both;
}
div.sidefig div.figure p:nth-of-type(1) {
    width: 60%;
    float: left;
}
div.sidefig div.figure p:nth-of-type(2) {
    font-size: 95%;
    /*    border-top: 1px solid black; */
    background-color: #f9f9ff;
    padding: 1em;
}
div.sidefig div.figure img {
    width: 100%;
}

div.figure img {
    width: 100%;
}
span.figure-number {
    font-weight: 500;
}

/* --- Footnote ------------------------------------------------------------ */
div.footpara {
    display: inline-block;
}
h2.footnotes {
    font-size: 16px;
    width: 50%;
    border-bottom: 1px solid black;
}
p.footpara {
    column-count: 1;
    line-height: 1.25em;
    font-family: "Roboto Condensed", sans-serif;
    margin: 0;
}
sup {
    font-size: 0.75em;
    vertical-align: top;
    position: relative; top: -0.5em;
}

/* --- Block quote --------------------------------------------------------- */
blockquote p {
    font-size: 95%;
    line-height: 1.15em;
    column-count: 1;
    padding-top: 1em;
    padding-bottom: 1.5em;
}

/* --- Source blocks ------------------------------------------------------- */
code {
    font-family: "Roboto Mono", sans-serif;
    font-weight: 300;
}

pre {
    border: none;
    background-color: inherit;
}

pre.example::before {
    display: block;
    background-color: #fffff;
    content: "Output";
    font-family: "Roboto Condensed", sans-serif;
    font-weight: 400;
    padding-bottom: 0.25em;
}

pre.example {
    font-size: 95%;
    background-color: #f9f9ff;
    line-height: 1.4em;
    font-family: "Roboto Mono", sans-serif;
    font-weight: 300;
    padding: 0.5em 1em 0.5em 1em;
}

pre.src {
    font-size: 75%;
    line-height: 1.4em;
    font-family: "Roboto Mono", sans-serif;
    font-weight: 300;
    padding: 0;
    margin: 0;
}
div.org-src-container {
    border: .5px solid #555599;
    padding: 0.50em 1.00em 0.75em 1.00em;
    background-color: #f9f9ff;
    margin-bottom: 0.5em;
}

label.org-src-name {
    display: block;
    font-family: "Roboto Condensed", sans-serif;
    padding-bottom: .25em;
}

span.listing-number {
    font-weight: 500;
}

table {
    font-family: "Roboto Mono", sans-serif;
    font-size: 70%;
}

tbody tr:nth-of-type(even) {
    background-color: #f3f3f3;
}

tbody tr:last-of-type {
    border-bottom: 2px solid #009879;
}
/*]]>*/-->
</style>
</head>
<body>
<div id="content" class="content">
<h1 class="title">ChimeraX notes</h1>
<p>
<b>Highlighting without silhouettes</b>
This is useful for making figures to 'highlight' a region without changing its
color, but simply creating a thicker outline.
</p>
<div class="org-src-container">
<pre class="src src-txt"><code>graphics selection color black width 6
</code></pre>
</div>

<p>
<b>Making convenient animation for 3D display of structures</b>
You can define the view by calling <code>view name &lt;name_your_view&gt;</code>. Here's an
example for making a movie with changing views by 'flying' to from one to the next
</p>
<div class="org-src-container">
<pre class="src src-text"><code>movie record; view head_on; rock y 10 272; wait; fly head_on side_view 40;
wait; rock y 10 272; movie encode ~/Desktop/scratch/SUN2KASH2.mp4
</code></pre>
</div>

<p>
<b>Showing only backbone as sticks</b>
This is sometimes helpful when showing multimeric or complicated structures to
'thin' them out.
</p>

<div class="org-src-container">
<pre class="src src-text"><code>hide atoms
hide cartoons
show @CA,N,C atoms
style stick
</code></pre>
</div>

<p>
<b>Selecting only sidechain atoms</b>
If you want to select only the histidine sidechains in chain A:
</p>
<div class="org-src-container">
<pre class="src src-text"><code>select sidechain &amp; #1/A:his
</code></pre>
</div>

<p>
<b>Styling cartoons for disordered proteins</b>
use the alias:
</p>
<div class="org-src-container">
<pre class="src src-text"><code>alias licorice car style protein modeh default arrows f xsect oval width 3 thick 3
</code></pre>
</div>
<p>
Now you can type 'licorice' to use this styling
</p>

<p>
<b>Find salt bridges</b>
To find salt bridges between chain A,C against chain X (e.g. say a dimer bound to another protein):
</p>
<div class="org-src-container">
<pre class="src src-text"><code>hb /a,c restrict /x reveal t show t saltOnly t
</code></pre>
</div>

<p>
<b>Find contacts</b>
To find contacting residues between chain A,C against chain X:
</p>
<div class="org-src-container">
<pre class="src src-text"><code>contacts /a,c restrict /x reveal t log t
</code></pre>
</div>

<p>
Here we specify <code>log t</code> to print out the result in the log window, so you can further parse it for specific interactions along with overlap quantities.
</p>

<p>
Alternatively, you use <code>interfaces</code>
</p>
<div class="org-src-container">
<pre class="src src-text"><code>interfaces select #2/A contacting #2/B,C bothSides false
</code></pre>
</div>

<p>
but this way, you can't really "print" out the residues in the log
</p>

<p>
<b>Common operations</b>
</p>
<div class="org-src-container">
<pre class="src src-text"><code>rename #1 alphafold_human_sun1

color byattribute *name* palette *paletteName*

#example
color bfactor #1 palette alphafold
</code></pre>
</div>

<p>
<b>Interface residues</b>
</p>
<div class="org-src-container">
<pre class="src src-text"><code>interfaces select /X contacting /H both true
# or you can use the shorthand
inter sel /A,B contacting /C,D
</code></pre>
</div>

<p>
<b>Measure buried surface area</b>
</p>
<div class="org-src-container">
<pre class="src src-text"><code>measure buriedarea /a&amp;protein with /b&amp;protein sel true cutoff 5
</code></pre>
</div>

<p>
<b>Changing cartoon appearance</b>
This is a personal favorite, to render cartoon representation into 'spaghetti'
</p>
<div class="org-src-container">
<pre class="src src-text"><code>cartoon style #1 modeh default arrows f xsect oval width 3.5 thick 2
</code></pre>
</div>

<p>
<b>Artificially connecting two chains</b> (without changing chain identities)
Use the command line "Shell" in ChimeraX
</p>

<ol class="org-ol">
<li>Select two atoms that you want to connect.</li>
<li>Open "Shell" <code>Tools &gt; General &gt; Shell</code>.</li>
<li>Run the command below</li>
</ol>

<div class="org-src-container">
<pre class="src src-python"><code><span style="color: #673AB7;">from</span> chimerax.atomic <span style="color: #673AB7;">import</span> selected_atoms
<span style="color: #673AB7; font-weight: bold;">sel</span> = selected_atoms(session)
<span style="color: #673AB7; font-weight: bold;">m</span> = sel.unique_structures[0]
m.new_bond(*sel)   
</code></pre>
</div>

<p>
Now you can "straighten" any loop while maintaining the complex interface.
</p>

<p>
<b>Structure 'sculpting' with isolde</b>
</p>

<ol class="org-ol">
<li>Start isolde. <code>isolde start</code>.</li>
<li>Impose restraints
<code>isolde restrain distances #1 distanceCutoff 5</code>
<code>isolde restrain torsions #1 angleRange 60</code></li>
<li>Start simulation. <code>isolde sim start #1</code>.</li>
<li>To remove unwanted distance restraints, release them: <code>isolde release distances sel</code>.</li>
<li>To help see things show only the alpha-carbons. <code>hide ~@CA</code>.</li>
</ol>

<p>
<b>Saving pLDDT values into text file with in ChimeraX</b>
</p>

<p>
The pLDDT values from  values are saved into the b-factor column in the pdb file. Since each value is assigned to an atom, we can get the pLDDT value from any atoms from the same residue. You can write a simple Python command in the ChimeraX shell. Open the shell via : <code>Tools</code> &gt; <code>General</code> &gt; <code>Shell</code>
</p>

<div class="org-src-container">
<pre class="src src-python"><code>  <span style="color: #90A4AE;"># get the first model, index 0</span>
  <span style="color: #673AB7; font-weight: bold;">m</span> = session.models[0]
  <span style="color: #673AB7;">with</span> <span style="color: #673AB7;">open</span>(<span style="color: #90A4AE;">"/path/to/textfile.txt"</span>, <span style="color: #90A4AE;">"wt"</span>) <span style="color: #673AB7;">as</span> f:
      f.write(<span style="color: #90A4AE;">"%6s</span><span style="font-weight: bold;">\t</span><span style="color: #90A4AE;">%5s</span><span style="font-weight: bold;">\t</span><span style="color: #90A4AE;">%10s</span><span style="font-weight: bold;">\n</span><span style="color: #90A4AE;">"</span> % (<span style="color: #90A4AE;">"resnum"</span>, <span style="color: #90A4AE;">"resname"</span>, <span style="color: #90A4AE;">"plddt"</span>))
      <span style="color: #673AB7;">for</span> <span style="color: #673AB7; font-weight: bold;">res</span> <span style="color: #673AB7;">in</span> m.residues:
          f.write(f<span style="color: #90A4AE;">"</span>{res.number:&gt;12s}<span style="font-weight: bold;">\t</span>{res.name:&gt;12s}<span style="font-weight: bold;">\t</span>{<span style="color: #673AB7;">float</span>(res.atoms[0].bfactor):&gt;10.2f}<span style="font-weight: bold;">\n</span><span style="color: #90A4AE;">"</span>)
</code></pre>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: 2024-06-25</p>
<p class="author">Author: Daniel Elnatan</p>
<p class="date">Created: 2025-10-02 Thu 06:18</p>
<p class="validation"><a href="https://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
